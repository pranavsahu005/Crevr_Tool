{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visual Suite for Everyone - My Image Tools</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'user.css' %}">
</head>

<body>

  <!-- === ABSTRACT BACKGROUND: LAVA LAMP BALLS === -->
  <div class="lava-lamp">
    <div class="bubble"></div>
    <div class="bubble1"></div>
    <div class="bubble2"></div>
    <div class="bubble3"></div>
  </div>

  <!-- === 1. Simple Header - Now containing the new dynamic menu === -->
  <header>
    <div class="header-content">
      <!-- Logo Text -->
      <div class="logo">MyImageTools.</div>

      <!-- NEW MENU REPLACEMENT -->
      <div class="menu">
        <a href="#home" class="link">
          <span class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="currentColor" viewBox="0 0 256 256">
              <rect width="256" height="256" fill="none"></rect>
              <path
                d="M213.3815,109.61945,133.376,36.88436a8,8,0,0,0-10.76339.00036l-79.9945,72.73477A8,8,0,0,0,40,115.53855V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V115.53887A8,8,0,0,0,213.3815,109.61945Z"
                fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16">
              </path>
            </svg>
          </span>
          <span class="link-title">Home</span>
        </a>
        <a href="#" class="link">
          <span class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="currentColor" viewBox="0 0 256 256">
              <rect width="256" height="256" fill="none"></rect>
              <polyline points="76.201 132.201 152.201 40.201 216 40 215.799 103.799 123.799 179.799" fill="none"
                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline>
              <line x1="100" y1="156" x2="160" y2="96" fill="none" stroke="currentColor" stroke-linecap="round"
                stroke-linejoin="round" stroke-width="16"></line>
              <path
                d="M82.14214,197.45584,52.201,227.397a8,8,0,0,1-11.31371,0L28.603,215.11268a8,8,0,0,1,0-11.31371l29.94113-29.94112a8,8,0,0,0,0-11.31371L37.65685,141.65685a8,8,0,0,1,0-11.3137l12.6863-12.6863a8,8,0,0,1,11.3137,0l76.6863,76.6863a8,8,0,0,1,0,11.3137l-12.6863,12.6863a8,8,0,0,1-11.3137,0L93.45584,197.45584A8,8,0,0,0,82.14214,197.45584Z"
                fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16">
              </path>
            </svg>
          </span>
          <span class="link-title">Games</span>
        </a>
        <a href="#" class="link">
          <span class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="currentColor" viewBox="0 0 256 256">
              <rect width="256" height="256" fill="none"></rect>
              <path
                d="M45.42853,176.99811A95.95978,95.95978,0,1,1,79.00228,210.5717l.00023-.001L45.84594,220.044a8,8,0,0,1-9.89-9.89l9.47331-33.15657Z"
                fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16">
              </path>
              <line x1="96" y1="112" x2="160" y2="112" fill="none" stroke="currentColor" stroke-linecap="round"
                stroke-linejoin="round" stroke-width="16"></line>
              <line x1="96" y1="144" x2="160" y2="144" fill="none" stroke="currentColor" stroke-linecap="round"
                stroke-linejoin="round" stroke-width="16"></line>
            </svg>
          </span>
          <span class="link-title">Chat</span>
        </a>
        <a href="#" class="link">
          <span class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="currentColor" viewBox="0 0 256 256">
              <rect width="256" height="256" fill="none"></rect>
              <circle cx="116" cy="116" r="84" fill="none" stroke="currentColor" stroke-linecap="round"
                stroke-linejoin="round" stroke-width="16"></circle>
              <line x1="175.39356" y1="175.40039" x2="223.99414" y2="224.00098" fill="none" stroke="currentColor"
                stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
            </svg>
          </span>
          <span class="link-title">Search</span>
        </a>
        <a href="#" class="link">
          <span class="link-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="currentColor" viewBox="0 0 256 256">
              <rect width="256" height="256" fill="none"></rect>
              <circle cx="128" cy="96" r="64" fill="none" stroke="currentColor" stroke-miterlimit="10"
                stroke-width="16"></circle>
              <path d="M30.989,215.99064a112.03731,112.03731,0,0,1,194.02311.002" fill="none" stroke="currentColor"
                stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path>
            </svg>
          </span>
          <span class="link-title">Profile</span>
        </a>
      </div>
      <!-- END NEW MENU REPLACEMENT -->
      <button class="header-cta rounded shadow transition">Get Started</button>
    </div>
  </header>

  <main>

    <!-- === 2. Hero Section: "Visual Suite for Everyone" === -->
    <section class="bg-hero-gradient">
         <div class="container hero-content">
             <h1>
                 Visual Suite <span>for Simple Editing</span>
             </h1>
             <p class="hero-description">
                 Welcome! This is an ML-powered project from <strong>sunnyinstitute</strong>, designed for fast, intuitive, and functional image processing.
                 <br>
                 Tools like <strong>Black & White</strong>, <strong>Compress</strong>, and <strong>Crop</strong> are now simpler than ever.
             </p>
             <button class="hero-cta">
                 <span>Dive Right In</span>
             </button>
         </div>
         
         <!-- SHIMMER EFFECT (Linear Bar) -->
         <div class="shimmer-effect">
             <div class="shimmer-bar"></div>
         </div>
    </section>

    <!-- === 3. Main Tool Panel Section (The Glass Frame) === -->
    <section id="tools" class="container tool-section">

      <!-- NEW FIRE LOGO PLACEMENT: Above the H2 -->
      <div class="tool-fire-logo-wrapper">
        <div class="fire fire-large">
          <div class="fire-left">
            <div class="main-fire"></div>
            <div class="particle-fire"></div>
          </div>
          <div class="fire-center">
            <div class="main-fire"></div>
            <div class="particle-fire"></div>
          </div>
          <div class="fire-right">
            <div class="main-fire"></div>
            <div class="particle-fire"></div>
          </div>
          <div class="fire-bottom">
            <div class="main-fire"></div>
          </div>
        </div>
      </div>
      <!-- END FIRE LOGO PLACEMENT -->

      <h2>
        Your Image Workbench üõ†Ô∏è
      </h2>

      <!-- Glass Container for Tools -->
      <div class="glass-container rounded">
        <h3 style="text-align: center; margin-bottom: 2rem;">Choose Your Action:</h3>

        <!-- User's Tool Navigation Menu - Updated with all 5 features -->
        <nav class="tool-nav" id="tool-nav-container">
          <div class="tool-nav-menu">
            <!-- Black & White (Active by default, using 'takephoto' URL as placeholder) -->
            <a href="{% url 'takephoto' %}"><button class="tool-nav-btn active" data-form-action="{% url 'takephoto' %}"
                data-input-name="userimage">Black & White</button></a>

            <!-- Compress -->
            <a href="{% url 'compress' %}"><button class="tool-nav-btn" data-form-action="{% url 'compress' %}"
                data-input-name="compressimg">Compress</button></a>

            <!-- Crop (Placeholder URL) -->
            <a href="#"><button class="tool-nav-btn">Crop</button></a>

            <!-- Resize (New Feature) -->
            <a href="{% url 'resizing' %}"><button class="tool-nav-btn" data-form-action="{% url 'resizing' %}"
                data-input-name="resizing">Resize</button></a>

            <!-- Rotate (New Feature) - NOTE: Your rotate.html has a range slider. I've added it here, hidden by default. -->
            <a href="{% url 'rotatephoto' %}"><button class="tool-nav-btn" data-form-action="{% url 'rotatephoto' %}"
                data-input-name="rotating">Rotate</button></a>
          </div>
        </nav>

        <!-- Main Content Area (Upload Form and Result Area) -->
        <div class="tool-content-area rounded">
          <p style="font-size: 1.125rem; color: #4b5563; font-weight: 700; margin-bottom: 1rem;">Upload an image to
            start transforming it!</p>

          <form id="tool-form" action="{% url 'takephoto' %}" enctype="multipart/form-data" method="post"
            class="upload-form">
            {% csrf_token %}

            <!-- New File Uploader UI -->
            <div class="uploader-container">
              <label for="file-input" class="uploader-header">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M7 10V9C7 6.23858 9.23858 4 12 4C14.7614 4 17 6.23858 17 9V10C19.2091 10 21 11.7909 21 14C21 15.4806 20.1956 16.8084 19 17.5M7 10C4.79086 10 3 11.7909 3 14C3 15.4806 3.8044 16.8084 5 17.5M7 10C7.43285 10 7.84965 10.0688 8.24006 10.1959M12 12V21M12 12L15 15M12 12L9 15"
                    stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                <p>Browse File to upload!</p>
              </label>
              <div class="uploader-footer">
                <svg fill="#000000" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15.331 6H8.5v20h15V14.154h-8.169z"></path>
                  <path d="M18.153 6h-.009v5.342H23.5v-.002z"></path>
                </svg>
                <p id="filename">Not selected file</p>
              </div>
              <input id="file-input" type="file" name="userimage" required>
            </div>

            <!-- Tool-specific options container -->
            <div id="tool-options" style="margin-top: 1rem; display: none;">
              <!-- Resize Options -->
              <div id="resize-options" style="display: none;">
                <label for="resize-range"
                  style="font-weight: 600; color: #374151; margin-bottom: 0.5rem; display: block;">Select
                  Size:</label>
                <input id="resize-range" type="range" min="0.5" max="2.5" step="0.5" value="1" name="size"
                  style="width: 100%;">
                <div
                  style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #6b7280; padding: 0 5px;">
                  <span>x0.5</span>
                  <span>x1</span>
                  <span>x1.5</span>
                  <span>x2</span>
                  <span>x2.5</span>
                </div>
              </div>

              <!-- Rotate Options -->
              <div id="rotate-options" style="display: none;">
                <label for="rotate-range"
                  style="font-weight: 600; color: #374151; margin-bottom: 0.5rem; display: block;">Select
                  Angle:</label>
                <input id="rotate-range" type="range" min="0" max="270" step="90" value="0" name="degree"
                  style="width: 100%;">
                <div
                  style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #6b7280; padding: 0 5px;">
                  <span>0¬∞</span>
                  <span>90¬∞</span>
                  <span>180¬∞</span>
                  <span>270¬∞</span>
                </div>
              </div>
            </div>
            <!-- End of tool-specific options -->

            <button type="submit" class="upload-submit rounded shadow transition">
              Submit and Process Image
            </button>
          </form>

          <!-- Result Area -->
          <div class="result-area">
            <p style="font-size: 1rem; font-weight: 600; color: #1f2937; margin-bottom: 1rem;">Your Result:</p>
            {% if lelo %}
            <div style="display: flex; flex-direction: column; gap: 1rem;">
              <img src="{% static '' %}{{ tool_type }}/{{ lelo }}" alt="Processed Image">
              <p>
                <a href="{% static '' %}{{ tool_type }}/{{ lelo }}" download
                  class="download-link transition">Click to download</a>
              </p>
            </div>
            {% else %}
            <p style="font-size: 0.875rem; color: #6b7280; font-style: italic;">
              Your processed image will show up right here after submission!
            </p>
            {% endif %}
          </div>
        </div>
      </div>

    <!-- --- 4. Focused Feature Blocks (Zig-Zag Layout) --- -->
    <section id="features" class="container feature-block-container">

      <!-- NEW COLOR PICKER PALETTE -->
      <div class="color-palette-wrapper">
        <div class="container-items">
          <button class="item-color" style="--color: #e11d48" aria-color="#e11d48"></button>
          <button class="item-color" style="--color: #f472b6" aria-color="#f472b6"></button>
          <button class="item-color" style="--color: #fb923c" aria-color="#fb923c"></button>
          <button class="item-color" style="--color: #facc15" aria-color="#facc15"></button>
          <button class="item-color" style="--color: #84cc16" aria-color="#84cc16"></button>
          <button class="item-color" style="--color: #10b981" aria-color="#10b981"></button>
          <button class="item-color" style="--color: #0ea5e9" aria-color="#0ea5e9"></button>
          <button class="item-color" style="--color: #3b82f6" aria-color="#3b82f6"></button>
          <button class="item-color" style="--color: #8b5cf6" aria-color="#8b5cf6"></button>
          <button class="item-color" style="--color: #a78bfa" aria-color="#a78bfa"></button>
        </div>
      </div>
      <!-- END COLOR PICKER PALETTE -->

      <h2 style="color: #1f2937;">
        Explore Our Simple Image Tools
      </h2>

      <!-- Feature Block 1: Black & White (Text Left, Image Right) -->
      <div class="feature-row">
        <div class="feature-content order-2">
          <span style="font-size: 1rem; font-weight: 600; color: #4f46e5;">Feature 1:</span>
          <h3>Black & White Conversion</h3>
          <p>
            Give your photos a timeless, dramatic look. Our **ML model** handles the conversion with smooth transitions
            and deep contrast, transforming your colorful picture into classic Black & White. This is not just a filter,
            but an optimized process delivering excellent results.
          </p>
          <a href="{% url 'takephoto' %}" class="feature-link">
            Try Black & White Now &rarr;
          </a>
        </div>
        <div class="feature-image order-1">
          <img src="https://placehold.co/600x400/374151/FFFFFF?text=Black+%26+White+Demo+Image"
            alt="Black & White Demo Image">
        </div>
      </div>

      <!-- Feature Block 2: Compress (Image Left, Text Right - Zig-Zag) -->
      <div class="feature-row">
        <div class="feature-image">
          <img src="https://placehold.co/600x400/dbeafe/1d4ed8?text=Compression+Demo+Image"
            alt="Compression Demo Image">
        </div>
        <div class="feature-content">
          <span style="font-size: 1rem; font-weight: 600; color: #4f46e5;">Feature 2:</span>
          <h3>Compress for Speed</h3>
          <p>
            Reduce your file size without sacrificing quality. Our **ML technology** ensures your image is fast for
            uploads but looks perfect. This is best for web uploads, email attachments, or any digital use where file
            size matters.
          </p>
          <a href="{% url 'compress' %}" class="feature-link">
            Start Compressing &rarr;
          </a>
        </div>
      </div>

      <!-- Feature Block 3: Crop (Text Left, Image Right) -->
      <div class="feature-row">
        <div class="feature-content order-2">
          <span style="font-size: 1rem; font-weight: 600; color: #4f46e5;">Feature 3:</span>
          <h3>Precise Cropping</h3>
          <p>
            Focus on the most important part of your picture. This tool helps you easily remove unwanted edges and
            perfect your composition. Quickly prepare your photo for any social media ratio or print size.
          </p>
          <a href="#" class="feature-link">
            Try the Crop Editor &rarr;
          </a>
        </div>
        <div class="feature-image order-1">
          <img src="https://placehold.co/600x400/10b981/ffffff?text=Cropping+Demo+Image" alt="Cropping Demo Image">
        </div>
      </div>

      <!-- Feature Block 4: Resize (Image Left, Text Right - Zig-Zag) -->
      <div class="feature-row">
        <div class="feature-image">
          <img src="https://placehold.co/600x400/fcd34d/78350f?text=Resize+Demo+Image" alt="Resizing Demo Image">
        </div>
        <div class="feature-content">
          <span style="font-size: 1rem; font-weight: 600; color: #4f46e5;">Feature 4:</span>
          <h3>Instant Resizing</h3>
          <p>
            Dynamically change the dimensions of your image to fit print or screen requirements. Optimizing content for
            various platforms is now easier. Input dimensions in pixels or a percentage and get immediate results.
          </p>
          <a href="{% url 'resizing' %}" class="feature-link">
            Start Resizing &rarr;
          </a>
        </div>
      </div>

      <!-- Feature Block 5: Rotate (Text Left, Image Right) -->
      <div class="feature-row">
        <div class="feature-content order-2">
          <span style="font-size: 1rem; font-weight: 600; color: #4f46e5;">Feature 5:</span>
          <h3>Quick Rotation</h3>
          <p>
            Easily fix orientation issues or add a creative angle to your photo. Rotate your image by 90 degrees, 180
            degrees, or any angle you prefer. This is essential for perfect alignment and artistic adjustments.
          </p>
          <a href="{% url 'rotatephoto' %}" class="feature-link">
            Rotate Your Photo &rarr;
          </a>
        </div>
        <div class="feature-image order-1">
          <img src="https://placehold.co/600x400/f472b6/ffffff?text=Rotate+Demo+Image" alt="Rotation Demo Image">
        </div>
      </div>

    </section>

    <!-- === NEW: Meet the Team Section === -->
    <section class="container team-section">
      <h2 style="color: #1f2937;">Meet Our Team</h2>
      <div class="team-grid">
        <!-- Team Member 1: Frontend Dev -->
        <div class="card">
          <div class="sub-card category">
            <span class="text_span">Frontend Developer</span>
          </div>
          <div class="card_container">
            <svg class="image" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M20 5H4V19L13.2923 9.70649C13.6828 9.31595 14.3159 9.31591 14.7065 9.70641L20 15.0104V5ZM2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11Z">
              </path>
            </svg>
          </div>
          <div class="sub-card named">
            <span class="text_span">Alex Doe</span>
          </div>
        </div>

        <!-- Team Member 2: Backend Dev -->
        <div class="card">
          <div class="sub-card category">
            <span class="text_span">Backend Developer</span>
          </div>
          <div class="card_container">
            <svg class="image" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M20 5H4V19L13.2923 9.70649C13.6828 9.31595 14.3159 9.31591 14.7065 9.70641L20 15.0104V5ZM2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11Z">
              </path>
            </svg>
          </div>
          <div class="sub-card named">
            <span class="text_span">Jordan Smith</span>
          </div>
        </div>

        <!-- Team Member 3: Student Helper -->
        <div class="card">
          <div class="sub-card category">
            <span class="text_span">Student Helper</span>
          </div>
          <div class="card_container">
            <svg class="image" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M20 5H4V19L13.2923 9.70649C13.6828 9.31595 14.3159 9.31591 14.7065 9.70641L20 15.0104V5ZM2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11Z">
              </path>
            </svg>
          </div>
          <div class="sub-card named">
            <span class="text_span">Chris Lee</span>
          </div>
        </div>

        <!-- Team Member 4: Student Helper (Girl) -->
        <div class="card">
          <div class="sub-card category">
            <span class="text_span">Student Helper</span>
          </div>
          <div class="card_container">
            <svg class="image" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M20 5H4V19L13.2923 9.70649C13.6828 9.31595 14.3159 9.31591 14.7065 9.70641L20 15.0104V5ZM2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11Z">
              </path>
            </svg>
          </div>
          <div class="sub-card named">
            <span class="text_span">Priya Sharma</span>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- === 5. LONG, PROFESSIONAL FOOTER === -->
  <footer>
    <div class="container" style="padding-top: 4rem; padding-bottom: 4rem;">
      <div class="footer-grid">

        <!-- Column 1: Logo & Mission -->
        <div>
          <div class="footer-logo-text">MyImageTools.</div>
          <p class="footer-mission">
            Simplifying everyday image processing with functional, human-focused tools. Your ML-powered utility suite
            for speed and quality.
          </p>
        </div>

        <!-- Column 2: Tools -->
        <div>
          <h4 class="footer-heading">Our Tools</h4>
          <ul class="footer-links">
            <li><a href="{% url 'takephoto' %}">Black & White</a></li>
            <li><a href="{% url 'compress' %}">Compress Image</a></li>
            <li><a href="#">Crop Editor</a></li>
            <li><a href="{% url 'resizing' %}">Image Resize</a></li>
            <li><a href="{% url 'rotatephoto' %}">Rotate Image</a></li>
          </ul>
        </div>

        <!-- Column 3: Company -->
        <div>
          <h4 class="footer-heading">Project Info</h4>
          <ul class="footer-links">
            <li><a href="#about">About the Project</a></li>
            <li><a href="#features">All Features</a></li>
            <li><a href="#">ML Model Overview</a></li>
            <li><a href="#">Contact / Support</a></li>
          </ul>
        </div>

        <!-- Column 4: Legal & Resources -->
        <div>
          <h4 class="footer-heading">Legal</h4>
          <ul class="footer-links">
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Use</a></li>
            <li><a href="#">License</a></li>
          </ul>
        </div>
      </div>

      <!-- Bottom Row: Copyright -->
      <div class="copyright">
        <p>&copy; 2024 My Image Tools Project. All rights reserved. Built with simplicity and functionality in mind.</p>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const toolNav = document.getElementById('tool-nav-container');
      const toolForm = document.getElementById('tool-form');
      const fileInput = document.getElementById('file-input');
      const toolOptionsContainer = document.getElementById('tool-options');
      const resizeOptions = document.getElementById('resize-options');
      const rotateOptions = document.getElementById('rotate-options');
      const filenameDisplay = document.getElementById('filename');

      if (toolNav && toolForm && fileInput && toolOptionsContainer) {

        // Update filename display on file selection
        fileInput.addEventListener('change', function() {
          if (fileInput.files.length > 0) {
            filenameDisplay.textContent = fileInput.files[0].name;
          } else {
            filenameDisplay.textContent = 'Not selected file';
          }
        });

        // Handle tool selection logic
        toolNav.addEventListener('click', function(e) {
          // Use .closest() to handle clicks on either the <a> or <button>
          const link = e.target.closest('a');
          if (!link) return;

          e.preventDefault(); // Prevent the link from navigating

          const button = link.querySelector('.tool-nav-btn');
          const toolName = button.textContent.trim();

          if (!button || toolName === 'Crop') return; // Ignore crop for now

          // Update form action and file input name
          toolForm.action = button.dataset.formAction;
          fileInput.name = button.dataset.inputName;

          // Hide all specific options first
          resizeOptions.style.display = 'none';
          rotateOptions.style.display = 'none';
          toolOptionsContainer.style.display = 'none';

          // Show options for the selected tool
          if (toolName === 'Resize') {
            resizeOptions.style.display = 'block';
            toolOptionsContainer.style.display = 'block';
          } else if (toolName === 'Rotate') {
            rotateOptions.style.display = 'block';
            toolOptionsContainer.style.display = 'block';
          }

          // Update active button style
          document.querySelectorAll('.tool-nav-btn').forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
        });
      }
    });
  </script>

</body>

</html>